{% extends "base.html" %}

{% block title %}Номера '{{ category_name }}' в отеле {{ hotel.title }}{% endblock %}

{% block content %}
    <nav aria-label="breadcrumb">
        <ol>
            <li><a href="{% url 'hotel_numbers:hotel_list' %}">Отели</a></li>
            <li><a href="{% url 'hotel_numbers:hotel_detail' hotel.slug %}">{{ hotel.title }}</a></li>
            <li>Категория: {{ category_name }}</li>
        </ol>
    </nav>

    <h1>Номера категории "{{ category_name }}"</h1>
    <div class="sorting-options" style="margin-bottom: 20px;">
        <span>Сортировать:</span>
        <a href="?sort=price_asc" {% if current_sort == 'price_asc' %}style="font-weight: bold;"{% endif %}>Сначала дешевые</a> |
        <a href="?sort=price_desc" {% if current_sort == 'price_desc' %}style="font-weight: bold;"{% endif %}>Сначала дорогие</a> |
        <a href="?sort=date_desc" {% if current_sort == 'date_desc' %}style="font-weight: bold;"{% endif %}>Сначала новые</a> |
        <a href="?sort=date_asc" {% if current_sort == 'date_asc' %}style="font-weight: bold;"{% endif %}>Сначала старые</a>
    </div>
    {% if rooms %}
        <ul>
            {% for room in rooms %}
                <li>
                    <!-- Ссылка на детальную страницу номера -->
                    <h3><a href="{% url 'hotel_numbers:room_preview' hotel.slug room.slug %}">{{ room.title }}</a></h3>
                    <p><strong>Цена:</strong> {{ room.price }} руб./ночь</p>
                    <p><strong>Статус:</strong> {{ room.get_status_display }}</p>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>В данной категории нет доступных номеров.</p>
    {% endif %}
{% endblock %}